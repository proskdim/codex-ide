<div
  class="fixed inset-0 z-50 flex items-center justify-center bg-black/65 backdrop-blur p-4 animate-fade-in"
>
  <div
    class="w-full h-full md:w-[98vw] md:h-[95vh] max-w-[1500px] flex flex-col text-gray-900 font-sans rounded-lg shadow-xl overflow-hidden border border-gray-200 relative animate-scale-up bg-[#f5f6fa]"
  >
    <nav
      class="h-14 border-b bg-white flex items-center justify-between px-6 shrink-0 relative z-20 select-none"
    >
      <div class="flex items-center space-x-2">
        <button
          (click)="onCloseEditor()"
          aria-label="Close editor"
          class="flex items-center text-[#999faf] hover:text-white hover:bg-red-500 px-2 py-1 rounded transition-all cursor-pointer"
        >
          <span>X</span>
        </button>
      </div>

      <div class="flex items-center">
        <button
          (click)="submitCode()"
          class="bg-[#21be72] hover:bg-[#23ce7f] text-white px-6 py-2 rounded font-semibold text-sm shadow transition-all"
        >
          Submit
        </button>
      </div>
    </nav>

    <main class="flex-1 flex flex-col md:flex-row overflow-hidden relative z-10 gap-2">
      <section
        class="w-full md:w-[48%] flex flex-col border-r h-1/2 md:h-full bg-[#fafbfc] border border-[#e3e7ed] rounded-md overflow-hidden"
      >
        <div class="flex bg-[#f7f8fa] border-b border-[#e3e7ed] text-sm font-semibold shrink-0">
          <span class="px-5 py-2 text-[#293146] flex items-center gap-2 tracking-wide"
            >Description</span
          >
        </div>
        <div
          class="flex-1 overflow-y-auto p-6 custom-scrollbar text-[#293146] leading-relaxed"
          style="font-size: 0.97rem"
        >
          <markdown [data]="description"></markdown>
        </div>
      </section>

      <!-- Solution.ts section on top, Test cases section on bottom (LeetCode style) -->
      <div class="flex flex-col gap-2 h-full w-full md:w-[52%]">
        <!-- Solution.ts section (Top) -->
        <section
          class="w-full flex flex-col bg-white border border-[#e3e7ed] rounded-md flex-2 overflow-hidden"
        >
          <div class="flex bg-[#f7f8fa] border-b border-[#e3e7ed] text-sm font-semibold shrink-0">
            <span class="px-5 py-2 text-[#293146] flex items-center gap-2 tracking-wide"
              >solution.ts</span
            >
          </div>
          <div class="flex-1 min-h-0">
            <ngx-monaco-editor
              [options]="editorOptions"
              [(ngModel)]="code"
              style="height: 100%"
            ></ngx-monaco-editor>
          </div>
        </section>

        <!-- Test cases section (Bottom) -->
        <section
          class="w-full flex flex-col bg-white border border-[#e3e7ed] rounded-md flex-1 overflow-hidden"
        >
          <div class="flex bg-[#f7f8fa] border-b border-[#e3e7ed] text-sm font-semibold shrink-0">
            <span class="px-5 py-2 text-[#293146] flex items-center gap-2 tracking-wide"
              >Test cases</span
            >
          </div>
          <div
            class="flex-1 min-h-0 py-3 px-4 text-[#293146]"
            style="background: #fcfdff; border-radius: 0 0 8px 8px"
          >
            <!-- Test cases content goes here -->
            test cases content
          </div>
        </section>
      </div>
    </main>
  </div>
</div>
